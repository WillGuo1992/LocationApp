package WifiTest;

import java.util.Date;
import java.util.List;

import org.apache.commons.math3.stat.regression.SimpleRegression;
import org.apache.log4j.Logger;
import org.junit.Test;

import cn.buaa.edu.wifi.domain.ApInfo;
import cn.buaa.edu.wifi.domain.LocationResult;
import cn.buaa.edu.wifi.service.impl.APTools;
import cn.buaa.edu.wifi.service.impl.WifiIndoorTagLocMethod;
import cn.buaa.edu.wifi.service.impl.WifiIndoorTriangleLocMethod;

public class TriangleLocTest {
private static Logger logger = Logger.getLogger(WifiIndoorTagLocMethod.class);
	
	public static String Mac = "CC:3A:61:A9:09:53";
	@Test
	public void get() throws Exception{
		for(int i =0 ;i<5;i++){
			WifiIndoorTriangleLocMethod method = new WifiIndoorTriangleLocMethod();
			method.getLocByTriangleMethodUsingActiveMQ(Mac);
		}
		
	}
	@Test
	public void get_file() throws Exception{
		WifiIndoorTriangleLocMethod method = new WifiIndoorTriangleLocMethod();
		method.getLocByTriangleMethodUsingFile(Mac);
	}
	
	
	//测试三角定位公式
//	2,20170703170537,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-45,1499071935333,1,180552,0,74:1F:4A:C8:9F:90,-99,2,0
//	2,20170703170537,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-53,1499071945297,1,194265,0,38:91:D5:86:CF:30,-97,2,0
//	2,20170703170537,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-74,1499071925497,1,167550,0,74:1F:4A:C8:9D:B0,-101,2,0
	@Test
	public void testTriangle(){
		
		//2. 最小二乘定位
		int apSize = 3;
		APTools apTools = new APTools();
		List apList = apTools.getApList();
		double [][] info = new double[apSize][3];
		String[] apMacs = {"74:1F:4A:C8:9F:80","38:91:D5:86:CF:20","74:1F:4A:C8:9D:A0"};
		double[] lens = {1,8,13};
//		double[] x = {0,1,1};
//		double[] y = {1,1,0};
//		double[] lens = {0.747,0.747,0.747};
		for(int index =0;index < apSize; index++){
			String apMac = apMacs[index];
			ApInfo apInfo = apTools.findApByApMac(apMac, apList);
			info[index][0] = apInfo.getX();  //xi
			info[index][1] = apInfo.getY();	 //yi
			info[index][2] = lens[index] ;  //di
			System.out.println(apInfo.toString());
		}
		double ps[][] = new double[apSize-1][4];
		double r1 = info[0][2] * info[0][2];  //d1平方
		double r2 = info[0][0] * info[0][0] + info[0][1] * info[0][1];			//x1平方+y1平方
		for(int index =0;index < apSize-1; index++){
			ps[index][0] = info[index+1][0]*info[index+1][0] + info[index+1][1]*info[index+1][1] - r2 ;
			ps[index][1] = 2*(info[0][0] - info[index+1][0]);
			ps[index][2] = 2*(info[0][1] - info[index+1][1]);
			ps[index][3] = info[index+1][2]*info[index+1][2] - r1 ;
			double k = ps[index][0];
			ps[index][0] = ps[index][2] / ps[index][1];
			ps[index][1] = (ps[index][3] - k) / ps[index][1];
		}
		for(int index =0;index<2;index++){
			System.out.println(ps[index][0]+"---"+ps[index][1]);
		}
		Date startReg = new Date();
		SimpleRegression reg = new SimpleRegression(true);
		reg.addData(ps);
		float x1 = (float)reg.getIntercept();
		float y1 = (float)reg.getSlope();
		Date endReg = new Date();
		logger.info("calculate SimpleRegression time(ms):"+String.valueOf(endReg.getTime()-startReg.getTime()));
		logger.info("result:(x,y):"+x1+","+y1);
		
	}
}


/*
INFO 17:40:47 (WifiIndoorTriangleLocMethod.java:39) - 开始AMQ定位：Mon Jul 03 17:40:47 CST 2017
时间切分成功
connection closed!!!
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074836879,11,25514,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074836961,11,25609,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074846787,11,43208,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074846827,11,43301,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074846870,11,43357,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074846913,11,43413,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074846954,11,43481,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074847203,40,43902,0,74:1F:4A:C8:9F:80,-106,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074847242,40,43980,0,74:1F:4A:C8:9F:80,-106,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-44,1499074837168,40,25884,0,74:1F:4A:C8:9F:80,-106,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-44,1499074837209,40,25957,0,74:1F:4A:C8:9F:80,-106,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-45,1499074816787,11,942,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-45,1499074817171,40,1384,0,74:1F:4A:C8:9F:80,-107,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-46,1499074826986,11,13465,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-46,1499074827151,40,13643,0,74:1F:4A:C8:9F:80,-107,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-46,1499074836839,11,25454,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-47,1499074826818,11,13250,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-48,1499074817212,40,1432,0,74:1F:4A:C8:9F:80,-107,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-49,1499074827191,40,13707,0,74:1F:4A:C8:9F:80,-107,3,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-50,1499074816747,11,881,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-50,1499074836750,11,25336,0,74:1F:4A:C8:9F:90,-97,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-59,1499074836113,1,24452,0,38:91:D5:86:CF:30,-96,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-59,1499074837168,40,25883,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-61,1499074836072,1,24393,0,38:91:D5:86:CF:30,-96,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-61,1499074837209,40,25958,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074817171,40,1385,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074817212,40,1433,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074826026,1,12333,0,38:91:D5:86:CF:30,-96,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074826068,1,12398,0,38:91:D5:86:CF:30,-96,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074827151,40,13644,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074846201,1,42176,0,38:91:D5:86:CF:30,-96,2,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074847202,40,43900,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-62,1499074847242,40,43979,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-63,1499074827191,40,13708,0,38:91:D5:86:CF:20,-105,3,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-72,1499074836072,1,24394,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-72,1499074836072,1,24395,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-72,1499074846035,1,41914,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-72,1499074846076,1,41964,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-72,1499074846118,1,42042,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-72,1499074847284,44,44048,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074816220,1,140,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074817293,44,1556,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074817335,48,1620,0,38:91:D5:86:D1:00,-106,3,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074826026,1,12331,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074826068,1,12397,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074826192,1,12560,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074827233,44,13753,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074827273,44,13795,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074835986,1,24304,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074836113,1,24453,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074837250,44,26025,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074845994,1,41855,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074846035,1,41913,0,74:1F:4A:C8:9D:B0,-101,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074846076,1,41965,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-73,1499074847325,44,44110,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074847367,48,44171,0,38:91:D5:86:D1:00,-107,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-73,1499074847409,48,44245,0,38:91:D5:86:D1:00,-107,3,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-74,1499074817254,44,1494,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074817375,48,1686,0,38:91:D5:86:D1:00,-106,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074826027,1,12336,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074826068,1,12396,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074827315,48,13850,0,38:91:D5:86:D1:00,-106,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074827355,48,13895,0,38:91:D5:86:D1:00,-106,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074835986,1,24305,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074836026,1,24341,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074836156,1,24501,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-74,1499074837291,44,26082,0,74:1F:4A:C8:9D:A0,-107,0,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074837333,48,26146,0,38:91:D5:86:D1:00,-107,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074837372,48,26195,0,38:91:D5:86:D1:00,-107,3,0
2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-74,1499074845994,1,41853,0,38:91:D5:86:D1:10,-102,2,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-75,1499074826151,1,12511,0,38:91:D5:86:D8:90,-98,2,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-75,1499074828253,165,14971,0,38:91:D5:86:D8:80,-104,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-78,1499074828293,165,15029,0,38:91:D5:86:D8:80,-104,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-78,1499074838278,165,27554,0,38:91:D5:86:D8:80,-103,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-78,1499074838319,165,27643,0,38:91:D5:86:D8:80,-103,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-79,1499074825983,1,12295,0,38:91:D5:86:D8:90,-98,2,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-79,1499074826026,1,12334,0,38:91:D5:86:D8:90,-98,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-79,1499074836412,6,24820,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-79,1499074845995,1,41856,0,38:91:D5:86:D8:90,-98,2,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-80,1499074816040,1,2,0,38:91:D5:86:D8:90,-98,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-80,1499074826403,6,12783,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-80,1499074826442,6,12839,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-80,1499074836366,6,24755,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-80,1499074846430,6,42589,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-80,1499074846493,6,42676,0,74:1F:4A:C8:9F:B0,-99,2,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074817906,64,2366,0,38:91:D5:86:D3:E0,-105,3,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074826403,6,12784,0,38:91:D5:86:D3:F0,-102,2,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074827838,64,14480,0,38:91:D5:86:D3:E0,-105,3,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074836454,6,24879,0,38:91:D5:86:D3:F0,-102,2,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074837873,64,26934,0,38:91:D5:86:D3:E0,-105,3,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074846430,6,42590,0,38:91:D5:86:D3:F0,-102,2,0
2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074847908,64,45110,0,38:91:D5:86:D3:E0,-105,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-82,1499074848312,165,45698,0,38:91:D5:86:D8:80,-104,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-83,1499074818287,165,2875,0,38:91:D5:86:D8:80,-104,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-83,1499074818329,165,2928,0,38:91:D5:86:D8:80,-104,3,0
2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-86,1499074848352,165,45780,0,38:91:D5:86:D8:80,-104,3,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:73) - 关于该Dev有关的不同AP数:7
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074836879,11,25514,0,74:1F:4A:C8:9F:90,-97,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-59,1499074836113,1,24452,0,38:91:D5:86:CF:30,-96,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-72,1499074836072,1,24394,0,74:1F:4A:C8:9D:B0,-101,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,38:91:D5:86:D1:00,CC:3A:61:A9:09:53,-72,1499074836072,1,24395,0,38:91:D5:86:D1:10,-102,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,38:91:D5:86:D8:80,CC:3A:61:A9:09:53,-75,1499074826151,1,12511,0,38:91:D5:86:D8:90,-98,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,74:1F:4A:C8:9F:A0,CC:3A:61:A9:09:53,-79,1499074836412,6,24820,0,74:1F:4A:C8:9F:B0,-99,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:75) - 2,20170703174050,38:91:D5:86:D3:E0,CC:3A:61:A9:09:53,-81,1499074817906,64,2366,0,38:91:D5:86:D3:E0,-105,3,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:83) - 2,20170703174050,74:1F:4A:C8:9F:80,CC:3A:61:A9:09:53,-43,1499074836879,11,25514,0,74:1F:4A:C8:9F:90,-97,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:83) - 2,20170703174050,38:91:D5:86:CF:20,CC:3A:61:A9:09:53,-59,1499074836113,1,24452,0,38:91:D5:86:CF:30,-96,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:83) - 2,20170703174050,74:1F:4A:C8:9D:A0,CC:3A:61:A9:09:53,-72,1499074836072,1,24394,0,74:1F:4A:C8:9D:B0,-101,2,0
INFO 17:40:50 (WifiIndoorTriangleLocMethod.java:49) - 结束定位：Mon Jul 03 17:40:50 CST 2017,用时(ms)：2844
*/